<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Electron框架让你通过CSS、JS、HTML写跨平台的桌面应用，它基于Node.js以及Chrom内核，Atom编辑器就是通过它完成的。

FAQ(Frequently Asked Questions)常见问题

什么时候=会升级到最新版本的Chrome通常会在稳定版本的Chrom发布1-2周">
    

    <!--Author-->
    
        <meta name="author" content="zhuxin">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Electron-常见问题"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="zhuxin_blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Electron-常见问题 - zhuxin_blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2016/07/03/Electron/what_is_electron/">
                Electron-常见问题
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2016-07-03</span>
            
            <a href="#disqus_thread" class="comments">Kommentare</a>
            
                <span class="category">
                    <a href="/categories/Electron/">Electron</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <blockquote>
<p>Electron框架让你通过CSS、JS、HTML写跨平台的桌面应用，它基于Node.js以及Chrom内核，Atom<br>编辑器就是通过它完成的。</p>
</blockquote>
<p><strong>FAQ(Frequently Asked Questions)常见问题</strong></p>
<blockquote>
<p><strong>什么时候=会升级到最新版本的Chrome</strong><br>通常会在稳定版本的Chrom发布1-2周内，更新Electron内的Chrome版本，Electron只会使用稳定<br>版本的Chrome,但如果在beta或dev有重要的更新的话，会使用补丁的方式应用到现版本的Chrome上<br><strong>什么时候会升级到最新版本的nodejs</strong><br>当一个新版本的nodejs发布之后，通常会在1月之后更新Electron，这样可以避免引入新版本的nodejs<br>所带来的bug，这太常见了.<br>Nodejs的新特性通常是在V8带来的，由于Electron使用的是Chrome装配的V8,所以Electron内已经<br>有了新版本Nodejs的新特性.<br><strong>如何在不同的页面共享数据</strong><br>在不同的网页之间共享数据最简单的方法就是使用浏览器中以实现的HTML5Api，比较好的方案就是<br><code>Storage API</code>, <code>localStorage</code>, <code>sessionStorage</code>, 还有<code>IndexDB</code>。或者使用Electron的<br>IPC系统，将对象储存在主进程中的一个全局变量中，然后在所有的渲染进程中通过<code>Electron</code>的<br><code>remote</code>属性访问它。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// In the main process.</span><br><span class="line">global.sharedObject = &#123;</span><br><span class="line">  someProperty: &apos;default value&apos;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// In page 1.</span><br><span class="line">require(&apos;electron&apos;).remote.getGlobal(&apos;sharedObject&apos;).someProperty = &apos;new value&apos;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// In page 2.</span><br><span class="line">console.log(require(&apos;electron&apos;).remote.getGlobal(&apos;sharedObject&apos;).someProperty);</span><br></pre></td></tr></table></figure>
<p><strong>应用的窗口/托盘在一段时间之后不见了</strong><br>这通常是因为储存窗口/托盘的变量被垃圾收集器收集了。<br>如果遇到这个问题，下面的文章会有所帮助</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management" target="_blank" rel="external">Memory Management(内存管理)</a></li>
<li><a href="https://msdn.microsoft.com/library/bzt2dkta" target="_blank" rel="external">Variable Scope(变量作用域)</a><br>如果想要一个快速的解决方案，让这些变量变成全局的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.on(&apos;ready&apos;, () =&gt; &#123;</span><br><span class="line">  const tray = new Tray(&apos;/path/to/icon.png&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>改变为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let tray = null;</span><br><span class="line">app.on(&apos;ready&apos;, () =&gt; &#123;</span><br><span class="line">  tray = new Tray(&apos;/path/to/icon.png&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>为什么不能在Electron中使用jQuery、RequireJs、Meteor、AngularJs</strong><br>由于nodejs集成了Electron，一些特殊的符号（标识）比如<code>require</code>,<code>exports</code>,’module’会被<br>插入到DOM中，这会导致一些类库插入相同命名的标识失败。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// In the main process.</span><br><span class="line">let win = new BrowserWindow(&#123;</span><br><span class="line">  webPreferences: &#123;</span><br><span class="line">    nodeIntegration: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果想继续使用Nodejs和Electron提供的API，你需要在页面中重命名这些符号（标识）在引入其<br>它类库时<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">window.nodeRequire = require;</span><br><span class="line">delete window.require;</span><br><span class="line">delete window.exports;</span><br><span class="line">delete window.module;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>require(<code>electron</code>).xxx未定义</strong><br>在使用electron的内置模块时，可能会遇到这样的问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;electron&apos;).webFrame.setZoomFactor(1.0);</span><br><span class="line">Uncaught TypeError: Cannot read property &apos;setZoomLevel&apos; of undefined</span><br></pre></td></tr></table></figure></p>
<p>这是因为你通过<code>npm</code>安装了全局的或本地的<code>electron</code>模块,它覆写了<code>Electron</code>的内置模块<br>你可以打印出<code>electron</code>的路径来核实你是否使用了正确的内置模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(require.resolve(&apos;electron&apos;));</span><br></pre></td></tr></table></figure></p>
<p>检查一下是否符合下面的形式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;/path/to/Electron.app/Contents/Resources/atom.asar/renderer/api/lib/exports/electron.js&quot;</span><br></pre></td></tr></table></figure></p>
<p>如果是<code>node_modules/electron/index.js</code>这种格式的话，你需要删除或者重命名npm安装的electron模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall electron</span><br><span class="line">npm uninstall -g electron</span><br></pre></td></tr></table></figure></p>
<p>如果依然遇到同样的问题，很可能是因为你在错误的进程中使用了此模块，比如<code>electron.app</code>只能<br>在主进程中使用，而<code>electron.webFrame</code>只能在渲染进程中使用.</p>
</blockquote>

    </div>

    

    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>

</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2016/11/12/react/implemention_notes/">实现说明</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/11/10/react/reconciler_algorithm/">React Reconciler Algorith</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/11/09/react/codebase_overview/">React代码库概述</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/11/01/react/react_redux/">redux</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/Canvas/">Canvas</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Git/">Git</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/React-Native/">React Native</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/React/">React</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/zhuxindaba">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>